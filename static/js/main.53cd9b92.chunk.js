(this["webpackJsonpweb3-example"]=this["webpackJsonpweb3-example"]||[]).push([[0],{244:function(e,t){},275:function(e,t){},277:function(e,t){},291:function(e,t){},312:function(e,t){},314:function(e,t){},337:function(e,t){},358:function(e,t,n){"use strict";n.r(t);var f=n(0),a=n.n(f),r=n(30),c=n.n(r),i=n(92),s=n(394),o=n(203),b=n(204),u=window.ethereum;u&&(u.autoRefreshOnNetworkChange=!1);var d="3e2aa02b75a143aea34b365e13d2039b";var l=new b.a({urls:{1:"https://mainnet.infura.io/v3/".concat(d)},defaultChainId:1}),p="BACKUP",h=function(e){var t=new s.a(e,"number"===typeof e.chainId?e.chainId:"string"===typeof e.chainId?parseInt(e.chainId):"any");return t.pollingInterval=15e3,t},m=new o.a({}),j=n(3),g=n.n(j),y=n(24),v=function(){return Object(i.c)()},x=function(){return Object(i.c)(p)},O=function(){var e=v(),t=x();return(null===e||void 0===e?void 0:e.active)?e:t},C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?p:void 0,n=Object(i.c)(t),a=n.active,r=n.activate;return Object(f.useCallback)(Object(y.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a||!r){t.next=3;break}return n=e?l:m,t.abrupt("return",r(n));case 3:case"end":return t.stop()}}),t)}))),[a,r,e])},w=n(6),B=Object(i.b)(p),M=function(){return function(){var e=C(),t=C(!0);Object(f.useEffect)((function(){Promise.all([m.isAuthorized().then((function(t){if(t)return e()})),t()]).catch(console.error)}),[e,t])}(),Object(w.jsx)(w.Fragment,{})},F=function(e){var t=e.children;return Object(w.jsx)(i.a,{getLibrary:h,children:Object(w.jsxs)(B,{getLibrary:h,children:[Object(w.jsx)(M,{}),t]})})},k=n(153),I=n(15),S=n(38),T=n(18),_=n(407),P=n(95),D=n(431),E=n(408),N=n(436),H=n(361),A=n(434),W=Object(A.a)("div")({display:"flex"}),L=Object(A.a)(W)({flexDirection:"column"}),J=Object(A.a)(W)({flexDirection:"row"}),V=Object(A.a)(W)({justifyContent:"center",alignItems:"center"}),R=Object(A.a)("div")((function(e){return{width:e.width,height:e.height}})),G=n(61),z=n(211),U=n.n(z),K=(n(344),n(345),n(55)),Y=n(401),q=function(e){var t=Object(K.a)(),n=Object(Y.a)(t.breakpoints.up(800));return Object(w.jsx)(U.a,Object(S.a)({width:"100%",fontSize:14,showGutter:n,wrapEnabled:!0,showPrintMargin:!0,highlightActiveLine:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,tabSize:2,debounceChangePeriod:600},e))},X=n(134),Q=n(432),Z=["id","value","label","placeholder"],$=function(e){var t=e.id,n=e.value,f=e.label,a=e.placeholder,r=Object(X.a)(e,Z);return Object(w.jsx)(Q.a,Object(S.a)({id:t,variant:"outlined",value:n,label:f,placeholder:a},r))},ee=n(34),te=n(222),ne=["children"],fe=Object(_.a)((function(e){return{paper:Object(ee.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(800+2*e.spacing(2)),{width:800,marginLeft:"auto",marginRight:"auto"})}})),ae=function(e){var t=e.children,n=Object(X.a)(e,ne),f=fe();return Object(w.jsx)(te.a,Object(S.a)(Object(S.a)({className:f.paper},n),{},{children:t}))},re=function(e,t){if("json"===t)return"string"===typeof e&&(e=JSON.parse(e)),JSON.stringify(e,void 0,2);if("text"===t)return"object"===typeof e&&(e=JSON.stringify(e)),e;throw Error("Invalid format: ".concat(t,", value: ").concat(e))},ce=Object(_.a)((function(e){return{container:{padding:0},options:{justifyContent:"flex-end",alignItems:"center",margin:e.spacing(3,0,1)},caseGroup:{flexWrap:"wrap",padding:0,marginBottom:e.spacing(1),"& > *":{margin:e.spacing(.5)}},bottomButtonGroup:{justifyContent:"flex-end",padding:0}}})),ie=function(e){var t=e.methodOptions,n=e.selectedMethod,a=e.onMethodSelected,r=e.cases,c=e.checkIsTargetMessage,i=e.hashMessage,s=e.isWalletEnabled,o=e.connectedAccount,b=e.connectWallet,u=e.onSign,d=e.preferJsonStringMessage,l=ce(),p=Object(f.useState)(""),h=Object(T.a)(p,2),m=h[0],j=h[1],v=Object(f.useState)(""),x=Object(T.a)(v,2),O=x[0],C=x[1],B=Object(f.useState)(""),M=Object(T.a)(B,2),F=M[0],k=M[1],I=Object(f.useState)(!0),S=Object(T.a)(I,2),_=S[0],A=S[1],W=Object(f.useState)(""),V=Object(T.a)(W,2),z=V[0],U=V[1],K=Object(f.useCallback)((function(e){var t=re(e,d?"json":"text");j(t)}),[d]),Y=Object(f.useCallback)(Object(y.a)(g.a.mark((function e(){var t,n,f,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(m);case 2:t=e.sent,n=Object(T.a)(t,2),f=n[0],a=n[1],k(f),U(a);case 8:case"end":return e.stop()}}),e)}))),[m,u]);return Object(f.useEffect)((function(){r[0].value&&K(r[0].value)}),[r,K]),Object(f.useEffect)((function(){(function(){var e=Object(y.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=m)||!c(t)){e.next=7;break}return e.next=5,i(t);case 5:n=e.sent,Object(G.b)(n)?(C(n),A(!1)):A(!0);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),A(!0),console.error("Error in hashing message",e.t0);case 13:k(""),U("");case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()().catch(console.error)}),[c,i,m]),Object(w.jsx)(ae,{children:Object(w.jsxs)(L,{className:l.container,children:[Object(w.jsx)(P.a,{component:"h1",variant:"h4",align:"center",children:"Message"}),Object(w.jsx)(J,{className:l.options,children:Object(w.jsx)(D.a,{variant:"outlined",value:n,onChange:function(e){return a(e.target.value)},children:t.map((function(e){return Object(w.jsx)(E.a,{value:e,children:e},e)}))})}),Object(w.jsx)(J,{className:l.caseGroup,children:r.map((function(e,t){return Object(w.jsx)(N.a,{size:"small",label:e.name,onClick:function(){return function(e){var t=r[e].value;K(t)}(t)}},e.name)}))}),Object(w.jsx)(q,{name:"message_editor",placeholder:"Input Message Here",mode:"json",theme:"tomorrow_night_eighties",value:m,onChange:K}),Object(w.jsx)(R,{height:10}),Object(w.jsx)($,{id:"message_hash",value:O,label:"Message Hash"}),Object(w.jsx)(R,{height:10}),Object(w.jsx)($,{id:"signature",value:F,label:"Signature"}),Object(w.jsx)(R,{height:10}),Object(w.jsx)($,{id:"recovered_address",value:z,label:"Recovered Address",placeholder:"Please make sure the message and signature are correct"}),Object(w.jsx)(R,{height:10}),Object(w.jsxs)(J,{className:l.bottomButtonGroup,children:[Object(w.jsx)(H.a,{variant:"contained",color:"primary",disabled:s,onClick:b,children:s&&o?"".concat(o.slice(0,4),"...").concat(o.slice(-4)):"Connect"}),Object(w.jsx)(R,{width:16}),Object(w.jsx)(H.a,{variant:"contained",color:"secondary",disabled:_||!s,onClick:Y,children:"SIGN"})]})]})})},se=n(35),oe=n(93),be='{"types":{"EIP712Domain":[{"name":"name","type":"string"},{"name":"version","type":"string"},{"name":"chainId","type":"uint256"},{"name":"verifyingContract","type":"address"}],"Person":[{"name":"name","type":"string"},{"name":"wallet","type":"address"}],"Mail":[{"name":"from","type":"Person"},{"name":"to","type":"Person"},{"name":"contents","type":"string"}]},"primaryType":"Mail","domain":{"name":"Ether Mail","version":"1","chainId":1,"verifyingContract":"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},"message":{"from":{"name":"Cow","wallet":"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},"to":{"name":"Bob","wallet":"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},"contents":"Hello, Bob!"}}',ue='{"types":{"EIP712Domain":[{"name":"name","type":"string"},{"name":"version","type":"string"},{"name":"chainId","type":"uint256"},{"name":"verifyingContract","type":"address"}],"Person":[{"name":"name","type":"string"},{"name":"wallet","type":"address"}],"Mail":[{"name":"from","type":"Person"},{"name":"to","type":"Person"},{"name":"contents","type":"string"},{"name":"payload","type":"bytes"}]},"primaryType":"Mail","domain":{"name":"Ether Mail","version":"1","chainId":1,"verifyingContract":"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},"message":{"from":{"name":"Cow","wallet":"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},"to":{"name":"Bob","wallet":"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},"contents":"Hello, Bob!","payload":"0x25192142931f380985072cdd991e37f65cf8253ba7a0e675b54163a1d133b8ca"}}',de='{"types":{"EIP712Domain":[{"name":"name","type":"string"},{"name":"version","type":"string"},{"name":"chainId","type":"uint256"},{"name":"verifyingContract","type":"address"}],"Person":[{"name":"name","type":"string"},{"name":"mother","type":"Person"},{"name":"father","type":"Person"}]},"domain":{"name":"Family Tree","version":"1","chainId":1,"verifyingContract":"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},"primaryType":"Person","message":{"name":"Jon","mother":{"name":"Lyanna","father":{"name":"Rickard"}},"father":{"name":"Rhaegar","father":{"name":"Aeris II"}}}}',le={eth_sign:{name:"eth_sign",cases:[{name:"Demo 1",value:"0x0000000000000000000000000000000000000000000000000000000000000000"},{name:"Demo 2",value:"0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"}],checkIsTargetMessage:G.b,hashMessage:function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signMessage:function(e,t){var n=e.account;return e.library.getSigner(n).provider.provider.send("eth_sign",[n,t]).then((function(e){return(null===e||void 0===e?void 0:e.result)||e}))}},personal_sign:{name:"personal_sign",cases:[{name:"Hello OneKey",value:"Hello OneKey"},{name:"To Da Moon",value:"To Da Moon"}],checkIsTargetMessage:function(e){return"string"===typeof e&&e.length>0},hashMessage:function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se.addHexPrefix(se.hashPersonalMessage(se.toBuffer(t)).toString("hex")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signMessage:function(e,t){var n=e.account;return e.library.getSigner(n).provider.send("personal_sign",[n,t]).then((function(e){return(null===e||void 0===e?void 0:e.result)||e}))}},typed_data_sign:{name:"typed_data_sign",cases:[{name:"Single Value",value:'[{"type":"string","name":"message","value":"Hi, Alice!"}]'},{name:"Multiple values",value:'[{"type":"string","name":"message","value":"Hi, Alice!"},{"type":"uint8","name":"value","value":10}]'},{name:"With bytes",value:'[{"type":"bytes","name":"message","value":"0xdeadbeaf"}]'}],preferJsonStringMessage:!0,checkIsTargetMessage:G.a,hashMessage:function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se.addHexPrefix(oe.typedSignatureHash(JSON.parse(t))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signMessage:function(e,t){var n=e.account,f=e.library;return f.provider.send("eth_signTypedData",f.provider.isMetaMask?[JSON.parse(t),n]:[n,t]).then((function(e){return(null===e||void 0===e?void 0:e.result)||e}))}},typed_data_sign_v1:{name:"typed_data_sign_v1",cases:[{name:"Single Value",value:'[{"type":"string","name":"message","value":"Hi, Alice!"}]'},{name:"Multiple values",value:'[{"type":"string","name":"message","value":"Hi, Alice!"},{"type":"uint8","name":"value","value":10}]'},{name:"With bytes",value:'[{"type":"bytes","name":"message","value":"0xdeadbeaf"}]'}],preferJsonStringMessage:!0,checkIsTargetMessage:G.a,hashMessage:function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se.addHexPrefix(oe.typedSignatureHash(JSON.parse(t))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signMessage:function(e,t){var n=e.account;return e.library.provider.send("eth_signTypedData_v1",[n,t]).then((function(e){return(null===e||void 0===e?void 0:e.result)||e}))}},typed_data_sign_v3:{name:"typed_data_sign_v3",cases:[{name:"Demo",value:be},{name:"With bytes",value:ue},{name:"With recursive types",value:de}],preferJsonStringMessage:!0,checkIsTargetMessage:G.d,hashMessage:function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se.addHexPrefix(oe.TypedDataUtils.sign(JSON.parse(t),!1).toString("hex")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signMessage:function(e,t){var n=e.account;return e.library.provider.send("eth_signTypedData_v3",[n,t]).then((function(e){return(null===e||void 0===e?void 0:e.result)||e}))}},typed_data_sign_v4:{name:"typed_data_sign_v4",cases:[{name:"Demo",value:be},{name:"With bytes",value:ue},{name:"With recursive types",value:de},{name:"With array",value:'{"types":{"EIP712Domain":[{"name":"name","type":"string"},{"name":"version","type":"string"},{"name":"chainId","type":"uint256"},{"name":"verifyingContract","type":"address"}],"Person":[{"name":"name","type":"string"},{"name":"wallets","type":"address[]"}],"Mail":[{"name":"from","type":"Person"},{"name":"to","type":"Person[]"},{"name":"contents","type":"string"}],"Group":[{"name":"name","type":"string"},{"name":"members","type":"Person[]"}]},"domain":{"name":"Ether Mail","version":"1","chainId":1,"verifyingContract":"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},"primaryType":"Mail","message":{"from":{"name":"Cow","wallets":["0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826","0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF"]},"to":[{"name":"Bob","wallets":["0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB","0xB0BdaBea57B0BDABeA57b0bdABEA57b0BDabEa57","0xB0B0b0b0b0b0B000000000000000000000000000"]}],"contents":"Hello, Bob!"}}'},{name:"With 2D array",value:'{"types":{"EIP712Domain":[{"name":"name","type":"string"},{"name":"version","type":"string"},{"name":"chainId","type":"uint256"},{"name":"verifyingContract","type":"address"}],"Person":[{"name":"name","type":"string"},{"name":"wallets","type":"address[]"},{"name":"logo_matrix","type":"int[][]"}],"Mail":[{"name":"from","type":"Person"},{"name":"to","type":"Person[]"},{"name":"contents","type":"string"}],"Group":[{"name":"name","type":"string"},{"name":"members","type":"Person[]"}]},"domain":{"name":"Ether Mail","version":"1","chainId":1,"verifyingContract":"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},"primaryType":"Mail","message":{"from":{"name":"Cow","wallets":["0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826","0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF"],"logo_matrix":[[0,255],[-255,-1]]},"to":[{"name":"Bob","wallets":["0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB","0xB0BdaBea57B0BDABeA57b0bdABEA57b0BDabEa57","0xB0B0b0b0b0b0B000000000000000000000000000"],"logo_matrix":[[0,0],[0,0]]}],"contents":"Hello, Bob!"}}'}],preferJsonStringMessage:!0,checkIsTargetMessage:G.d,hashMessage:function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se.addHexPrefix(oe.TypedDataUtils.sign(JSON.parse(t),!0).toString("hex")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signMessage:function(e,t){var n=e.account;return e.library.provider.send("eth_signTypedData_v4",[n,t]).then((function(e){return(null===e||void 0===e?void 0:e.result)||e}))}}},pe=n(433),he=n(430),me=function(e,t){var n=se.toBuffer(e),f=se.toBuffer(t);console.assert(32===n.length,"Invalid message hash: ".concat(e)),console.assert(65===f.length,"Invalid signature: ".concat(t));var a=[f.slice(0,32),f.slice(32,64),f[64]],r=a[0],c=a[1],i=a[2],s=se.ecrecover(n,i,r,c);return se.addHexPrefix(se.pubToAddress(s).toString("hex"))},je=function(){var e=v(),t=e.active,n=e.account,a=C(),r=Object(f.useState)("eth_sign"),c=Object(T.a)(r,2),i=c[0],s=c[1],o=Object(f.useState)(),b=Object(T.a)(o,2),u=b[0],d=b[1],l=le[i||"eth_sign"],p=Object(f.useCallback)(function(){var t=Object(y.a)(g.a.mark((function t(f){var a,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.assert(!!n),a=void 0,r="",c="",t.prev=4,t.next=7,l.signMessage(e,f);case 7:if(!(r=t.sent)||!Object(G.c)(r)){t.next=18;break}return t.t0=me,t.next=12,l.hashMessage(f);case 12:t.t1=t.sent,t.t2=r,c=(0,t.t0)(t.t1,t.t2),a=c.toLowerCase()===(null===n||void 0===n?void 0:n.toLowerCase())?{isPositive:!0,message:"Signature Verified"}:{isPositive:!1,message:"Sorry! The Message Signature Verification Failed"},t.next=19;break;case 18:a={isPositive:!1,message:"Invalid signature"};case 19:t.next=25;break;case 21:t.prev=21,t.t3=t.catch(4),console.error("Error in signing message",t.t3),a={isPositive:!1,message:Object(G.e)(t.t3)};case 25:return a&&d((function(){return Object(S.a)({isOpening:!0},a)})),t.abrupt("return",[r,c]);case 27:case"end":return t.stop()}}),t,null,[[4,21]])})));return function(e){return t.apply(this,arguments)}}(),[e,n,l]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ie,{isWalletEnabled:t,connectedAccount:n,connectWallet:a,methodOptions:Object.keys(le),selectedMethod:i,onMethodSelected:s,cases:l.cases,preferJsonStringMessage:l.preferJsonStringMessage,hashMessage:l.hashMessage,checkIsTargetMessage:l.checkIsTargetMessage,onSign:p}),Object(w.jsx)(pe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:(null===u||void 0===u?void 0:u.isOpening)||!1,autoHideDuration:3e3,onClose:function(){return d((function(e){return Object(S.a)(Object(S.a)({},e),{},{isOpening:!1})}))},children:Object(w.jsx)(he.a,{severity:(null===u||void 0===u?void 0:u.isPositive)?"success":"error",children:null===u||void 0===u?void 0:u.message})})]})},ge=n(212),ye=n.n(ge),ve=n(406),xe=n(410),Oe=n(411),Ce=n(412),we=n(413),Be=n(414),Me=function(e){var t=e.value,n=e.stripThreshold,a=void 0===n?50:n,r=Object(f.useState)(!1),c=Object(T.a)(r,2),i=c[0],s=c[1],o=t&&t.length>=a,b=o?(null===t||void 0===t?void 0:t.slice(0,a))+"...":t;return Object(w.jsx)(w.Fragment,{children:t&&Object(w.jsx)(ve.a,{error:!0,children:Object(w.jsxs)(J,{children:[b,o&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(R,{width:3}),Object(w.jsx)(xe.a,{component:"button",onClick:function(){return s(!0)},color:"inherit",underline:"always","aria-label":t,children:"more"}),Object(w.jsxs)(Oe.a,{scroll:"paper",open:i,onClose:function(){return s(!1)},children:[Object(w.jsx)(Ce.a,{children:"Error"}),Object(w.jsx)(we.a,{children:Object(w.jsx)(Be.a,{children:t})})]})]})]})})})},Fe=n(415),ke=n(219),Ie=n(416),Se=function(e){var t=e.selectedIndex,n=e.actions,f=e.onActionSelect,r=e.groupProps,c=a.a.useState(!1),i=Object(T.a)(c,2),s=i[0],o=i[1],b=a.a.useState(null),u=Object(T.a)(b,2),d=u[0],l=u[1];return Object(w.jsxs)(Fe.a,Object(S.a)(Object(S.a)({},r),{},{children:[n[t].action,Object(w.jsx)(H.a,{onClick:function(e){var t=e.currentTarget;l(t),o(Boolean(t))},children:Object(w.jsx)(Ie.a,{})}),Object(w.jsx)(ke.a,{keepMounted:!0,anchorEl:d,open:s,onClose:function(){return o(!1)},children:n.map((function(e,n){return Object(w.jsx)(E.a,{selected:n===t,onClick:function(){f(e,n),o(!1)},children:e.label},e.label)}))})]}))},Te=Object(_.a)((function(e){return{container:{alignItems:"center","& > *":{width:"100%"}},bottomContainer:{justifyContent:"flex-end",flexWrap:"wrap","& > *":{marginBottom:"8px"}},nodeInput:{height:"40px",borderColor:"transparent",borderRadius:0},actionBtn:{marginLeft:"16px"}}})),_e=function(e){var t=e.rawTransactionHelperText,n=e.rawTransactionValue,f=e.onRawTransactionInputChange,a=e.jsonTransactionHelperText,r=e.jsonTransactionValue,c=e.onJsonTransactionInputChange,i=e.txidValue,s=e.senderAddressValue,o=e.nodeSelectedIndex,b=e.onNodeSelect,u=e.isWalletInjected,d=e.injectWallet,l=e.customNodeValue,p=e.onCustomNodeValueChange,h=e.actionBtnState,m=Te();return Object(w.jsx)(ae,{children:Object(w.jsxs)(L,{className:m.container,children:[Object(w.jsx)(P.a,{component:"h1",variant:"h4",align:"center",children:"Transaction"}),Object(w.jsx)(R,{height:32}),Object(w.jsx)(q,{name:"transaction_editor",placeholder:'\n// Input json format transaction here like this:\n{\n  "nonce": 0,\n  "gasPrice": "0x0df8475800",\n  "gasLimit": "0x0186a0",\n  "to": "0x3535353535353535353535353535353535353535",\n  "value": "0x64",\n  "data": "0x",\n  "chainId": 0,\n  "v": 27,\n  "r": "0x82de9950cc5aac0dca7210cb4b77320ac9e844717d39b1781e9d941d920a1206",\n  "s": "0x1da497b3c134f50b2fce514d66e20c5e43f9615f097395a5527041d14860a52f"\n}\n',mode:"json",theme:"tomorrow_night_eighties",value:r,onChange:c,"aria-describedby":"transaction_editor_helper_text"}),a&&Object(w.jsx)(Me,{value:a}),Object(w.jsx)(R,{height:3}),Object(w.jsx)(ye.a,{color:"disabled"}),Object(w.jsx)(R,{height:3}),Object(w.jsx)(Q.a,{error:!!t,multiline:!0,maxRows:5,variant:"outlined",label:n&&n.length>0?"Raw Transaction":void 0,placeholder:"\n// or hex string raw transaction like this:\n0xf86580850df8475800830186a094353535353535353535353535353535353535353564801ba082de9950cc5aac0dca7210cb4b77320ac9e844717d39b1781e9d941d920a1206a01da497b3c134f50b2fce514d66e20c5e43f9615f097395a5527041d14860a52f\n",value:n,onChange:function(e){return f(e.target.value)}}),t&&Object(w.jsx)(Me,{value:t}),Object(w.jsx)(R,{height:16}),Object(w.jsx)($,{id:"txid",FormHelperTextProps:{variant:"standard"},value:i,label:"Txid"}),Object(w.jsx)(R,{height:8}),Object(w.jsx)($,{id:"sender_address",value:s,label:"Sender Address"}),Object(w.jsx)(R,{height:16}),Object(w.jsxs)(J,{className:m.bottomContainer,children:[Object(w.jsx)(Se,{selectedIndex:o,onActionSelect:function(e,t){return b(t)},actions:[{label:"Default ETH Mainnet",action:Object(w.jsx)(H.a,{children:"ETH Mainnet"})},{label:"Connect Wallet",action:Object(w.jsx)(H.a,{onClick:d,children:u?"Connected":"Connect Wallet"})},{label:"Custom",action:Object(w.jsx)(Q.a,{variant:"outlined",value:l,placeholder:"https://my_rpc_node.com",onChange:function(e){return p(e.target.value)},InputProps:{className:m.nodeInput}})}],groupProps:{variant:"contained",color:"primary"}}),Object(w.jsx)(H.a,Object(S.a)({className:m.actionBtn,variant:"contained",color:"secondary"},h))]})]})})},Pe=n(29),De=n(27),Ee={chain_id:"chainId",gas_limit:"gasLimit",gas:"gasLimit",gas_price:"gasPrice",access_list:"accessList",max_priority_fee_per_gas:"maxPriorityFeePerGas",max_fee_per_gas:"maxFeePerGas",input:"data"},Ne=function(e){return"undefined"===typeof e?"0x00":De.a.from("number"===typeof e?e.toString():e).toHexString()},He=function(e){return parseInt(Ne(e),16)},Ae={hash:se.addHexPrefix,from:se.addHexPrefix,to:se.addHexPrefix,nonce:He,gasLimit:function(e){return Ne(Math.max(21e3,He(e)))},gasPrice:Ne,data:se.addHexPrefix,value:Ne,chainId:He,type:He,maxPriorityFeePerGas:Ne,maxFeePerGas:Ne,r:se.addHexPrefix,s:se.addHexPrefix,v:He},We=["to","nonce","gasLimit","gasPrice","data","value","chainId","type","accessList","maxPriorityFeePerGas","maxFeePerGas"],Le=["r","s","v"],Je=[].concat(We,Le,["hash","from"]),Ve=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(T.a)(e,2);t[0];return!function(e){return"undefined"===typeof e||null===e||"string"===typeof e&&0===e.length}(t[1])})).map((function(e){var t=Object(T.a)(e,2),n=t[0],f=t[1];return[n in Ee?Ee[n]:n,n in Ae?Ae[n](f):f]})).filter((function(e){var t=Object(T.a)(e,2),n=t[0];t[1];return Je.includes(n)})))},Re=function(e){var t=Ve(e),n=function(e){var t=Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(T.a)(e,2),n=t[0];return t[1],Le.includes(n)})));return Object.keys(t).length!==Le.length&&(t=void 0),t}(t),f=Object.fromEntries(Object.entries(t).filter((function(e){var t=Object(T.a)(e,2),n=t[0];t[1];return We.includes(n)})));return Object(Pe.f)(f,n)},Ge=function(e){return Ve(Object(Pe.d)(e))},ze={1:"https://etherscan.io/tx/{0}",3:"https://ropsten.etherscan.io/tx/{0}",56:"https://bscscan.com/tx/{0}",97:"https://testnet.bscscan.com/tx/{0}",128:"https://hecoinfo.com/tx/{0}",256:"https://testnet.hecoinfo.com/{0}"},Ue=n(218),Ke=n(417),Ye={disabled:!0,children:"Pending"},qe=function(){var e=Object(y.a)(g.a.mark((function e(t,n,f){var a,r,c,i,o,b,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.signed,r=n.txid,c=n.chainId,i=n.payload,o=void 0,e.next=4,t.getNetwork();case 4:if(b=e.sent,!a){e.next=18;break}if(c===b.chainId){e.next=10;break}o={disabled:!0,children:"ChainId Mismatched"},e.next=15;break;case 10:if(!r){e.next=15;break}return e.next=13,t.send("eth_getTransactionByHash",[r]);case 13:"object"===typeof(u=e.sent)&&null!==u&&u.hash===r&&(o={disabled:!1,children:"Transaction Found!",onClick:function(){return window.open((ze[c]||"https://blockscan.com/tx/{0}").replace("{0}",r))}});case 15:o||(o={disabled:!1,children:"Broadcast",onClick:function(){return t.send("eth_sendRawTransaction",[Re(i)])}}),e.next=19;break;case 18:t instanceof s.a&&(o={disabled:!1,children:"Sign & Broadcast",onClick:function(){return t.getSigner().sendTransaction(Object.assign(i,{chainId:b.chainId})).then((function(e){return f(Object.assign(e,{chainId:b.chainId}))}))}});case 19:return e.abrupt("return",o||Ye);case 20:case"end":return e.stop()}}),e)})));return function(t,n,f){return e.apply(this,arguments)}}(),Xe=function(){var e=v(),t=e.active,n=e.library,a=x().library,r=C(),c=Object(f.useState)(""),i=Object(T.a)(c,2),s=i[0],o=i[1],b=Object(f.useState)(),u=Object(T.a)(b,2),d=u[0],l=u[1],p=Object(f.useState)(""),h=Object(T.a)(p,2),m=h[0],j=h[1],O=Object(f.useState)(),B=Object(T.a)(O,2),M=B[0],F=B[1],k=Object(f.useState)(),I=Object(T.a)(k,2),S=I[0],_=I[1],P=Object(f.useState)(0),D=Object(T.a)(P,2),E=D[0],N=D[1],H=Object(f.useState)(""),A=Object(T.a)(H,2),W=A[0],L=A[1],J=Object(f.useMemo)((function(){return 0===E?a:1===E?n:2===E&&function(e){var t,n,f;try{f=new URL(e)}catch(a){}return"http:"===(null===(t=f)||void 0===t?void 0:t.protocol)||"https:"===(null===(n=f)||void 0===n?void 0:n.protocol)}(W)?new Ue.a({url:W}):void 0}),[E,n,a,W]),V=Object(f.useState)(Ye),R=Object(T.a)(V,2),G=R[0],z=R[1],U=function(){var e=Object(y.a)(g.a.mark((function e(t,n){var f,a,r,c,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("raw_tx"===n?f=Object(se.addHexPrefix)(t.trim()):t&&(a=JSON.parse(t),f=Re(a)),f){e.next=4;break}return _(void 0),e.abrupt("return");case 4:r=Ge(f),c=r.hash,i=r.from,c&&delete r.hash,i&&delete r.from,s={txid:c,chainId:r.chainId,signed:Boolean(r.r&&r.s&&"number"===typeof r.v),sender:i,payload:r},F(void 0),j(f),l(void 0),o(re(r,"json")),_(s);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=Object(f.useCallback)((function(e){e!==s?U(e,"json_tx").catch((function(t){console.error(t);try{e=re(e,"json")}catch(n){}o(e),l(null===t||void 0===t?void 0:t.message)})):e||(o(e),l(void 0))}),[s]);return Object(f.useEffect)((function(){var e=!1;return"undefined"!==typeof J&&"undefined"!==typeof S?(z({disabled:!1,children:Object(w.jsx)(Ke.a,{color:"inherit",size:24})}),qe(J,S,(function(t){return!e&&K(JSON.stringify(t))})).then((function(t){return!e&&z((function(){return t}))})).catch(console.error)):z(Ye),function(){e=!0}}),[J,S,K]),Object(f.useEffect)((function(){n&&N(1)}),[n]),Object(w.jsx)(_e,{rawTransactionHelperText:M,rawTransactionValue:m,onRawTransactionInputChange:function(e){e?U(e,"raw_tx").catch((function(t){console.error(t),F(null===t||void 0===t?void 0:t.message),j(e)})):(j(e),F(void 0))},jsonTransactionHelperText:d,jsonTransactionValue:s,onJsonTransactionInputChange:K,txidValue:(null===S||void 0===S?void 0:S.txid)||"",senderAddressValue:(null===S||void 0===S?void 0:S.sender)||"",nodeSelectedIndex:E,onNodeSelect:N,isWalletInjected:t,injectWallet:r,customNodeValue:W,onCustomNodeValueChange:L,actionBtnState:G})},Qe=n(44),Ze=n(418),$e=n(405),et=n(409),tt=n(360),nt=n(421),ft=n(422),at=n(423),rt=n(213),ct=n.n(rt),it=function(e){var t=e.address,n=e.size,r=void 0===n?45:n,c=a.a.createRef();return Object(f.useEffect)((function(){if(t&&r&&null!==c&&c.current){!function(e){for(var t=e.children.length,n=0;n<t;++n)e.removeChild(e.children[n])}(c.current);var e=ct()(r,parseInt(t.slice(2,10),16));c.current.appendChild(e)}}),[t,r,c]),Object(w.jsx)("div",{ref:c})},st=n(419),ot=n(420),bt=Object(_.a)((function(e){return{container:{alignItems:"center",maxHeight:"80vh","& > *":{width:"100%"}},emptyContainer:{flexDirection:"column",height:"30vh",textAlign:"center","& > #logo":{fontSize:80,color:e.palette.divider}},records:{display:"flex",flexDirection:"column-reverse",minHeight:300,overflow:"auto",boxShadow:"inset 0 -1px 1px -1px gray"},recordItemPrimary:{alignItems:"center",fontSize:13,marginBottom:8,"& > #link":{marginLeft:2,fontSize:14,fontWeight:600},"& > #dot":{fontWeight:400,marginLeft:4,marginRight:4},"& > #date":{fontWeight:500}},recordItemSecondary:{maxHeight:80,overflow:"auto"},flexBox:{flex:1},floorLabel:{borderRadius:"10px",backgroundColor:"rgb(240, 240, 240)",color:"rgb(204, 204, 204)",padding:"2px 5px 2px 5px",fontSize:"9px",lineHeight:"9px",fontWeight:600},inputContainer:{alignItems:"center",paddingLeft:16,"& > #send":{transition:"transform 300ms ease-in-out","&:hover":{transform:"rotate(-45deg)"}}}}})),ut=function(e){var t=e.record,n=t.id,f=t.sender,a=t.message,r=t.date,c=e.isLastOne,i=e.account,s=bt(),o="".concat(n),b="".concat(f.slice(0,6));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(tt.a,{alignItems:"flex-start",children:[Object(w.jsx)(nt.a,{children:Object(w.jsx)(Ze.a,{invisible:i.toLowerCase()!==f.toLowerCase(),badgeContent:"me",anchorOrigin:{vertical:"top",horizontal:"right"},color:"secondary",children:Object(w.jsx)(it,{address:f})})}),Object(w.jsx)(ft.a,{disableTypography:!0,primary:Object(w.jsxs)(J,{className:s.recordItemPrimary,children:[Object(w.jsx)(xe.a,{id:"link",href:"https://blockscan.com/address/".concat(f),target:"_blank",children:b}),Object(w.jsx)(P.a,{id:"dot",variant:"caption",children:"\u2022"}),Object(w.jsx)(P.a,{id:"date",variant:"inherit",color:"textSecondary",children:r}),Object(w.jsx)("div",{className:s.flexBox}),Object(w.jsx)("span",{className:s.floorLabel,children:o})]}),secondary:Object(w.jsx)(P.a,{className:s.recordItemSecondary,variant:"body2",children:a})})]}),!c&&Object(w.jsx)(at.a,{variant:"inset",component:"li"})]})},dt=function(e){var t=e.isWrongNetwork,n=e.records,f=e.account,a=e.messageValue,r=e.onMessageValueChange,c=e.submitMessage,i=e.connectWallet,s=bt();return Object(w.jsx)(ae,{children:Object(w.jsxs)(L,{className:s.container,children:[Object(w.jsx)(V,{children:Object(w.jsx)(Ze.a,{badgeContent:"Dev",color:"secondary",children:Object(w.jsx)(P.a,{component:"h1",variant:"h4",children:"Discussion"})})}),Object(w.jsx)(R,{height:32}),n.length>0?Object(w.jsx)($e.a,{className:s.records,children:n.map((function(e,t,n){return Object(w.jsx)(ut,{record:e,isLastOne:t+1===n.length,account:f},e.id)}))}):Object(w.jsxs)(V,{className:s.emptyContainer,children:[Object(w.jsx)(st.a,{id:"logo"}),t&&Object(w.jsxs)(P.a,{variant:"body2",color:"error",children:["Wrong network ",Object(w.jsx)("br",{}),"Please connect to the Ropsten Ethereum network."]})]}),Object(w.jsx)(R,{height:8}),Object(w.jsxs)(J,{className:s.inputContainer,children:[Object(w.jsx)(Q.a,{id:"input",fullWidth:!0,multiline:!0,maxRows:3,placeholder:"Join the discussion...",value:a,onChange:function(e){return r(e.target.value)}}),Object(w.jsx)(et.a,{id:"send",color:"primary",disabled:!f,children:Object(w.jsx)(ot.a,{onClick:f?c:i})})]})]})})},lt=n(7),pt=n(10),ht=n(46),mt=n(36),jt=n(13),gt=n(14),yt=n(429),vt=n(124),xt=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"string",name:"message",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isDonated",type:"bool"},{internalType:"uint256",name:"donatedValue",type:"uint256"}],indexed:!1,internalType:"struct Record",name:"record",type:"tuple"}],name:"NewRecord",type:"event"},{inputs:[],name:"MAX_CAPACITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"_enabled",type:"bool"}],name:"changeEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"changeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"historicalDonation",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"recordId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"records",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"string",name:"message",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isDonated",type:"bool"},{internalType:"uint256",name:"donatedValue",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"message",type:"string"}],name:"submitMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"message",type:"string"}],name:"donate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"ownerClaim",outputs:[],stateMutability:"nonpayable",type:"function"}],Ot="0x60806040526000600155600061025a5534801561001b57600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506001600060146101000a81548160ff021916908315150217905550611401806100866000396000f3fe60806040526004361061009c5760003560e01c80635365a93f116100645780635365a93f1461017b578063708b34fe146101a45780638da5cb5b146101cd578063a6f9dae1146101f8578063b5aebc8014610221578063f7dfe22b1461023d5761009c565b8063238dafe0146100a157806334461067146100cc5780633a5ddf301461010e57806346fea85b146101395780634dbe588914610164575b600080fd5b3480156100ad57600080fd5b506100b6610268565b6040516100c39190610e5a565b60405180910390f35b3480156100d857600080fd5b506100f360048036038101906100ee9190610bd9565b61027b565b60405161010596959493929190610f12565b60405180910390f35b34801561011a57600080fd5b50610123610372565b6040516101309190610ef7565b60405180910390f35b34801561014557600080fd5b5061014e610377565b60405161015b9190610ef7565b60405180910390f35b34801561017057600080fd5b5061017961037e565b005b34801561018757600080fd5b506101a2600480360381019061019d9190610b6f565b610475565b005b3480156101b057600080fd5b506101cb60048036038101906101c69190610b98565b61055f565b005b3480156101d957600080fd5b506101e26105c1565b6040516101ef9190610e3f565b60405180910390f35b34801561020457600080fd5b5061021f600480360381019061021a9190610b46565b6105e5565b005b61023b60048036038101906102369190610b98565b610767565b005b34801561024957600080fd5b50610252610826565b60405161025f9190610ef7565b60405180910390f35b600060149054906101000a900460ff1681565b6002816064811061028b57600080fd5b600602016000915090508060000154908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020180546102d090611129565b80601f01602080910402602001604051908101604052809291908181526020018280546102fc90611129565b80156103495780601f1061031e57610100808354040283529160200191610349565b820191906000526020600020905b81548152906001019060200180831161032c57829003601f168201915b5050505050908060030154908060040160009054906101000a900460ff16908060050154905086565b606481565b61025a5481565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461040c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161040390610e95565b60405180910390fd5b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f19350505050158015610472573d6000803e3d6000fd5b50565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610503576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104fa90610e95565b60405180910390fd5b801515600060149054906101000a900460ff161515141561052357600080fd5b80600060146101000a81548160ff021916908315150217905550801515600060149054906101000a900460ff1615151461055c57600080fd5b50565b60011515600060149054906101000a900460ff161515146105b5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105ac90610e75565b60405180910390fd5b6105be8161082c565b50565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610673576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066a90610e95565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156106cc57600080fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461076457600080fd5b50565b60011515600060149054906101000a900460ff161515146107bd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107b490610e75565b60405180910390fd5b60003411610800576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107f790610eb5565b60405180910390fd5b6108098161082c565b3461025a600082825461081c9190611012565b9250508190555050565b60015481565b6000606460015461083d91906111da565b90506040518060c0016040528060015481526020013373ffffffffffffffffffffffffffffffffffffffff168152602001838152602001428152602001600034111515815260200134815250600282606481106108c3577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600602016000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020190805190602001906109349291906109fc565b506060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555060a08201518160050155905050600180600082825461097e9190611012565b925050819055507eb18e8c208b23e00ec2bc777330061d061e60a4610dd00c4b013bd68a61be72600282606481106109df577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600602016040516109f09190610ed5565b60405180910390a15050565b828054610a0890611129565b90600052602060002090601f016020900481019282610a2a5760008555610a71565b82601f10610a4357805160ff1916838001178555610a71565b82800160010185558215610a71579182015b82811115610a70578251825591602001919060010190610a55565b5b509050610a7e9190610a82565b5090565b5b80821115610a9b576000816000905550600101610a83565b5090565b6000610ab2610aad84610f9f565b610f7a565b905082815260208101848484011115610aca57600080fd5b610ad58482856110e7565b509392505050565b600081359050610aec81611386565b92915050565b600081359050610b018161139d565b92915050565b600082601f830112610b1857600080fd5b8135610b28848260208601610a9f565b91505092915050565b600081359050610b40816113b4565b92915050565b600060208284031215610b5857600080fd5b6000610b6684828501610add565b91505092915050565b600060208284031215610b8157600080fd5b6000610b8f84828501610af2565b91505092915050565b600060208284031215610baa57600080fd5b600082013567ffffffffffffffff811115610bc457600080fd5b610bd084828501610b07565b91505092915050565b600060208284031215610beb57600080fd5b6000610bf984828501610b31565b91505092915050565b610c0b8161109f565b82525050565b610c1a8161109f565b82525050565b610c29816110b1565b82525050565b610c38816110b1565b82525050565b6000610c4982610fe5565b610c538185611001565b9350610c638185602086016110f6565b610c6c816112c7565b840191505092915050565b60008154610c8481611129565b610c8e8186610ff0565b94506001821660008114610ca95760018114610cbb57610cee565b60ff1983168652602086019350610cee565b610cc485610fd0565b60005b83811015610ce657815481890152600182019150602081019050610cc7565b808801955050505b50505092915050565b6000610d04602383611001565b9150610d0f826112e5565b604082019050919050565b6000610d27601583611001565b9150610d3282611334565b602082019050919050565b6000610d4a600e83611001565b9150610d558261135d565b602082019050919050565b600060c083016000808401549050610d778161118f565b610d846000870182610e21565b5060018401549050610d958161115b565b610da26020870182610c02565b50600284018583036040870152610db98382610c77565b92505060038401549050610dcc8161118f565b610dd96060870182610e21565b5060048401549050610dea81611175565b610df76080870182610c20565b5060058401549050610e088161118f565b610e1560a0870182610e21565b50819250505092915050565b610e2a816110dd565b82525050565b610e39816110dd565b82525050565b6000602082019050610e546000830184610c11565b92915050565b6000602082019050610e6f6000830184610c2f565b92915050565b60006020820190508181036000830152610e8e81610cf7565b9050919050565b60006020820190508181036000830152610eae81610d1a565b9050919050565b60006020820190508181036000830152610ece81610d3d565b9050919050565b60006020820190508181036000830152610eef8184610d60565b905092915050565b6000602082019050610f0c6000830184610e30565b92915050565b600060c082019050610f276000830189610e30565b610f346020830188610c11565b8181036040830152610f468187610c3e565b9050610f556060830186610e30565b610f626080830185610c2f565b610f6f60a0830184610e30565b979650505050505050565b6000610f84610f95565b9050610f9082826111a9565b919050565b6000604051905090565b600067ffffffffffffffff821115610fba57610fb9611298565b5b610fc3826112c7565b9050602081019050919050565b60008190508160005260206000209050919050565b600081519050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600061101d826110dd565b9150611028836110dd565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561105d5761105c61120b565b5b828201905092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600060ff82169050919050565b6000819050919050565b60006110aa826110bd565b9050919050565b60008115159050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b82818337600083830152505050565b60005b838110156111145780820151818401526020810190506110f9565b83811115611123576000848401525b50505050565b6000600282049050600182168061114157607f821691505b6020821081141561115557611154611269565b5b50919050565b600061116e611169836112d8565b611068565b9050919050565b6000611188611183836112d8565b611088565b9050919050565b60006111a261119d836112d8565b611095565b9050919050565b6111b2826112c7565b810181811067ffffffffffffffff821117156111d1576111d0611298565b5b80604052505050565b60006111e5826110dd565b91506111f0836110dd565b925082611200576111ff61123a565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b60008160001c9050919050565b7f536f7272792c2074686520636f6e74726163742069732064697361626c65642060008201527f6e6f770000000000000000000000000000000000000000000000000000000000602082015250565b7f596f7520617265206e6f7420746865206f776e65720000000000000000000000600082015250565b7f446f6e617465206e6f7468696e67000000000000000000000000000000000000600082015250565b61138f8161109f565b811461139a57600080fd5b50565b6113a6816110b1565b81146113b157600080fd5b50565b6113bd816110dd565b81146113c857600080fd5b5056fea2646970667358221220e9256e948e71b0b24ecefcf0efa0ed09e15a357939cf7b76e187317cb58e223a64736f6c63430008030033",Ct=function(e){Object(jt.a)(n,e);var t=Object(gt.a)(n);function n(e){return Object(lt.a)(this,n),t.call(this,xt,Ot,e)}return Object(pt.a)(n,[{key:"deploy",value:function(e){return Object(ht.a)(Object(mt.a)(n.prototype),"deploy",this).call(this,e||{})}},{key:"getDeployTransaction",value:function(e){return Object(ht.a)(Object(mt.a)(n.prototype),"getDeployTransaction",this).call(this,e||{})}},{key:"attach",value:function(e){return Object(ht.a)(Object(mt.a)(n.prototype),"attach",this).call(this,e)}},{key:"connect",value:function(e){return Object(ht.a)(Object(mt.a)(n.prototype),"connect",this).call(this,e)}}],[{key:"createInterface",value:function(){return new yt.a.Interface(xt)}},{key:"connect",value:function(e,t){return new vt.a(e,xt,t)}}]),n}(vt.b);Ct.bytecode=Ot,Ct.abi=xt;var wt=[{inputs:[],name:"enabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"changeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_enabled",type:"bool"}],name:"changeEnabled",outputs:[],stateMutability:"nonpayable",type:"function"}];(function(){function e(){Object(lt.a)(this,e)}return Object(pt.a)(e,null,[{key:"createInterface",value:function(){return new yt.a.Interface(wt)}},{key:"connect",value:function(e,t){return new vt.a(e,wt,t)}}]),e}()).abi=wt;var Bt=n(215),Mt=n.n(Bt),Ft=function(){return function(e,t){var n=O(),a=n.library,r=n.account;return Object(f.useMemo)((function(){if(e&&a)return t.connect(e,"string"===typeof r?a.getSigner(r):a)}),[e,t,a,r])}("0xa5954b05e2d7dbc2894bfe2732207ce2d8f656c7",Ct)},kt=function(e){return{id:e.id.toNumber(),sender:e.sender,message:e.message,date:Mt()(1e3*e.timestamp).fromNow(),isDonated:e.isDonated,donatedValue:e.donatedValue.toString()}},It=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,f,a,r,c,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.recordId();case 2:n=e.sent.toNumber(),f=Math.min(n,100),a=[],r=0;case 6:if(!(r<f)){e.next=18;break}for(10,c=Math.min(r+10,f),i=[];r<c;)i.push(t.records(r)),++r;return e.next=13,Promise.all(i);case 13:s=e.sent,a.push.apply(a,Object(Qe.a)(s.map(kt)));case 15:++r,e.next=6;break;case 18:return a.sort((function(e,t){return t.id-e.id})),e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=O(),t=e.account,n=e.chainId,a=C(),r=Ft(),c=Object(f.useState)([]),i=Object(T.a)(c,2),s=i[0],o=i[1],b=Object(f.useState)(""),u=Object(T.a)(b,2),d=u[0],l=u[1],p=Object(f.useCallback)((function(){r&&d&&r.submitMessage(d).then((function(){return l("")})).catch(console.error)}),[r,d]);return Object(f.useEffect)((function(){if(r){var e=!1;It(r).then((function(t){return!e&&o(t)})).catch(console.error);var t=r.filters.NewRecord(),n=function(t){e||o((function(e){return[kt(t)].concat(Object(Qe.a)(e))}))};return r.on(t,n),function(){e=!0,r.removeListener(t,n)}}}),[r,t]),Object(w.jsx)(dt,{isWrongNetwork:3!==n,records:s,account:"string"===typeof t?t:"",connectWallet:a,messageValue:d,onMessageValueChange:l,submitMessage:p})},Tt=n(428),_t=n(426),Pt=n(427),Dt=n(216),Et=n.n(Dt),Nt=n(437),Ht=Object(_.a)((function(e){return{drawer:{},drawerPaper:{marginTop:e.spacing(8),width:240,height:300},drawerHeader:Object(S.a)(Object(S.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),menuItem:{height:e.spacing(8)}}})),At=function(e){var t=e.menus,n=e.open,a=e.onDrawerItemClick,r=e.onClose,c=Ht(),i=Object(K.a)(),s=Object(Y.a)(i.breakpoints.down(800)),o=Object(f.useMemo)((function(){return s?{anchor:"bottom"}:{anchor:"left",className:c.drawer,classes:{paper:c.drawerPaper}}}),[c,s]);return Object(w.jsxs)(Nt.a,Object(S.a)(Object(S.a)({open:n,onClose:r},o),{},{children:[t.map((function(e,t){return Object(w.jsx)(tt.a,{className:c.menuItem,button:!0,onClick:function(){return a(e,t)},divider:!s,children:Object(w.jsx)(ft.a,{primary:e})},e)})),s&&Object(w.jsx)(at.a,{}),Object(w.jsx)(R,{height:i.spacing(6)})]}))},Wt=Object(_.a)((function(e){return{appBar:{color:"default",position:"relative"},main:{width:"auto",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}})),Lt=function(e){var t=e.onDrawerBtnClick,n=Wt();return Object(w.jsx)(_t.a,{className:n.appBar,children:Object(w.jsxs)(Pt.a,{children:[Object(w.jsx)(et.a,{color:"inherit","aria-label":"open drawer",onClick:t,edge:"start",children:Object(w.jsx)(Et.a,{})}),Object(w.jsx)(P.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Web3 Example"})]})})},Jt=function(e){var t=e.children,n=Wt(),a=Object(f.useState)(!1),r=Object(T.a)(a,2),c=r[0],i=r[1],s=Object(I.k)();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Lt,{onDrawerBtnClick:function(){return i((function(e){return!e}))}}),Object(w.jsx)(At,{menus:["Message","Transaction","Discussion"],open:c,onClose:function(){return i((function(){return!1}))},onDrawerItemClick:function(e){s("/".concat(e.toLowerCase())),i(!1)}}),Object(w.jsx)("main",{className:n.main,children:t})]})},Vt=Object(k.a)([{path:"/message",element:Object(w.jsx)(Jt,{children:Object(w.jsx)(je,{})})},{path:"/transaction",element:Object(w.jsx)(Jt,{children:Object(w.jsx)(Xe,{})})},{path:"/discussion",element:Object(w.jsx)(Jt,{children:Object(w.jsx)(St,{})})}],{basename:"web3-example"});c.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Tt.a,{}),Object(w.jsx)(F,{children:Object(w.jsx)(I.b,{router:Vt})})]})}),document.getElementById("root"))},61:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s}));var f=n(93),a=function(t){if("string"===typeof t&&t.startsWith("0x")&&66===t.length)try{return 32===e.from(t.slice(2),"hex").length}catch(n){console.error(n)}return!1},r=function(t){if("string"==typeof t&&t.startsWith("0x")&&132===t.length)try{return 65===e.from(t.slice(2),"hex").length}catch(n){console.error(n)}return!1},c=function(e){if("string"===typeof e&&e.startsWith("[")&&e.endsWith("]"))try{var t=JSON.parse(e);if(Array.isArray(t))return t.every((function(e){return"object"===typeof e&&"string"===typeof e.type&&"string"==typeof e.name&&void 0!==e.value}))}catch(n){console.error(n)}return!1},i=function(e){if("string"===typeof e&&e.startsWith("{")&&e.endsWith("}"))try{var t=JSON.parse(e);if("object"===typeof t)return f.TYPED_MESSAGE_SCHEMA.required.every((function(e){return!!t[e]}))}catch(n){console.error(n)}return!1},s=function(e){var t=typeof e;return"undefined"===t?"Something wrong":"string"===t?e:"object"===t&&"string"===typeof e.message?e.message:"object"===t&&e.data?JSON.stringify(e.data):JSON.stringify(e)}}).call(this,n(28).Buffer)}},[[358,1,2]]]);
//# sourceMappingURL=main.53cd9b92.chunk.js.map