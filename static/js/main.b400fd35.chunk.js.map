{"version":3,"sources":["connector.tsx","components/basic.tsx","components/Editor.tsx","components/EcRecoverViewer.tsx","pages/Message/view.tsx","pages/Message/methods.ts","pages/Message/index.tsx","App.tsx","index.tsx","pages/Message/helper.ts"],"names":["Web3ProviderNetwork","createWeb3ReactRoot","ethereum","window","autoRefreshOnNetworkChange","getLibrary","provider","Web3Provider","chainId","parseInt","injected","InjectedConnector","Web3Root","children","Column","styled","display","flexDirection","Row","SizedBox","width","height","style","Editor","props","fontSize","showGutter","wrapEnabled","showPrintMargin","highlightActiveLine","enableBasicAutocompletion","enableLiveAutocompletion","tabSize","EcRecoverViewer","messageHash","signature","useState","recoveredAddress","setRecoveredAddress","useEffect","hashBuffer","ethUtil","sigBuffer","console","assert","length","slice","r","s","v","public_key","address","toString","e","error","TextField","id","variant","value","label","placeholder","useStyle","makeStyles","theme","options","justifyContent","alignItems","margin","spacing","caseGroup","flexWrap","padding","marginBottom","bottomButtonGroup","MessageEditorView","methodOptions","selectedMethod","onMethodSelected","cases","checkIsTargetMessage","hashMessage","isWalletEnabled","connectedAccount","connectWallet","onSign","preferJsonStringMessage","classes","messageValue","setMessageValue","messageHashValue","setMessageHashValue","signatureValue","setSignatureValue","disabledSignBtn","setDisabledSignBtn","snackBarState","setSnackBarState","onMessageChanged","useCallback","message","a","toEditorJsonString","easyCheckMessageHash","onSignButtonClick","easyCheckSignature","isOpening","isPositive","JSON","stringify","undefined","Typography","component","align","className","Select","onChange","event","target","map","method","MenuItem","tag","index","Chip","size","name","onClick","catch","onTagClick","mode","Button","color","disabled","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","prevState","severity","DEMO_TYPED_DATA_01","DEMO_TYPED_DATA_02","DEMO_TYPED_DATA_03","Methods","eth_sign","Promise","resolve","signMessage","account","library","getSigner","send","then","response","result","personal_sign","typed_data_sign","easyCheckLegacyEIP712Struct","signUtil","parse","isMetaMask","typed_data_sign_v1","typed_data_sign_v3","easyCheckStandardEIP712Struct","sign","typed_data_sign_v4","MessageEditor","web3","useWeb3React","active","activate","setSelectedMethod","Object","keys","useStyles","appBar","position","main","marginLeft","marginRight","breakpoints","up","paper","marginTop","App","Fragment","CssBaseline","AppBar","Toolbar","noWrap","Paper","Message","ReactDOM","render","StrictMode","document","getElementById","startsWith","Buffer","from","endsWith","struct","Array","isArray","every","i","type","required","data"],"mappings":"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","file":"static/js/main.b400fd35.chunk.js","sourcesContent":["import { Web3Provider } from \"@ethersproject/providers\";\nimport { createWeb3ReactRoot, Web3ReactProvider } from \"@web3-react/core\";\nimport { InjectedConnector } from \"@web3-react/injected-connector\";\n\nconst Web3ProviderNetwork = createWeb3ReactRoot(\"NETWORK\");\n\nconst { ethereum } = window as any;\nethereum && (ethereum.autoRefreshOnNetworkChange = false);\n\nconst getLibrary = (provider: any) =>\n  new Web3Provider(\n    provider,\n    typeof provider.chainId === \"number\"\n      ? provider.chainId\n      : typeof provider.chainId === \"string\"\n      ? parseInt(provider.chainId)\n      : \"any\"\n  );\n\nconst Web3Root = ({ children }: { children: any }) => (\n  <Web3ReactProvider getLibrary={getLibrary}>\n    <Web3ProviderNetwork getLibrary={getLibrary}>\n      {children}\n    </Web3ProviderNetwork>\n  </Web3ReactProvider>\n);\n\nexport const injected = new InjectedConnector({});\nexport default Web3Root;\n","import { styled } from \"@material-ui/core\";\n\nconst Column = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"column\",\n});\n\nconst Row = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"row\",\n});\n\nconst SizedBox = ({ width, height }: { width?: any; height?: any }) => (\n  <div style={{ width, height }} />\n);\n\nexport { Column, Row, SizedBox };\n","import AceEditor from \"react-ace\";\nimport { IAceEditorProps } from \"react-ace/lib/ace\";\nimport \"ace-builds/src-noconflict/mode-json\";\nimport \"ace-builds/src-noconflict/theme-tomorrow_night_eighties\";\n\nconst Editor = (props: IAceEditorProps) => {\n  return (\n    <AceEditor\n      width={\"100%\"}\n      fontSize={14}\n      showGutter={false}\n      wrapEnabled\n      showPrintMargin\n      highlightActiveLine\n      enableBasicAutocompletion\n      enableLiveAutocompletion\n      tabSize={2}\n      {...props}\n    />\n  );\n};\n\nexport default Editor;\n","import { useEffect, useState } from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport * as ethUtil from \"ethereumjs-util\";\n\nconst EcRecoverViewer = ({\n  messageHash,\n  signature,\n}: {\n  messageHash: string;\n  signature: string;\n}) => {\n  const [recoveredAddress, setRecoveredAddress] = useState<string>(\"\");\n\n  useEffect(() => {\n    if (messageHash && signature) {\n      try {\n        const hashBuffer = ethUtil.toBuffer(messageHash);\n        const sigBuffer = ethUtil.toBuffer(signature);\n\n        console.assert(\n          hashBuffer.length === 32,\n          `Invalid message hash: ${messageHash}`\n        );\n        console.assert(\n          sigBuffer.length === 65,\n          `Invalid signature: ${signature}`\n        );\n\n        const [r, s, v] = [\n          sigBuffer.slice(0, 32),\n          sigBuffer.slice(32, 64),\n          sigBuffer[64],\n        ];\n        const public_key = ethUtil.ecrecover(hashBuffer, v, r, s);\n        const address = ethUtil.addHexPrefix(\n          ethUtil.pubToAddress(public_key).toString(\"hex\")\n        );\n        setRecoveredAddress(() => address);\n        return;\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    setRecoveredAddress(\"\");\n  }, [messageHash, signature]);\n\n  return (\n    <TextField\n      id={\"recovered_address\"}\n      variant=\"outlined\"\n      value={recoveredAddress}\n      label={\"Recovered Address\"}\n      placeholder={\"Please fill in the message and signature first\"}\n    />\n  );\n};\n\nexport default EcRecoverViewer;\n","import {\n  Button,\n  Chip,\n  makeStyles,\n  MenuItem,\n  Select,\n  Snackbar,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { Column, Row, SizedBox } from \"../../components/basic\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport {\n  easyCheckMessageHash,\n  easyCheckSignature,\n  toEditorJsonString,\n} from \"./helper\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Editor from \"../../components/Editor\";\nimport EcRecoverViewer from \"../../components/EcRecoverViewer\";\n\nexport interface MessageViewProps {\n  methodOptions: Array<string>;\n  selectedMethod: string;\n  onMethodSelected: (method: string) => void;\n  cases: Array<{ name: string; value: string }>;\n  checkIsTargetMessage: (message: string) => boolean;\n  hashMessage: (message: string) => Promise<string>;\n  isWalletEnabled: boolean;\n  connectedAccount?: string | null;\n  connectWallet: () => void;\n  onSign: (message: string) => Promise<string>;\n  preferJsonStringMessage?: boolean;\n}\n\nconst useStyle = makeStyles((theme) => ({\n  options: {\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    margin: theme.spacing(3, 0, 1),\n  },\n  caseGroup: {\n    flexWrap: \"wrap\",\n    padding: 0,\n    marginBottom: theme.spacing(1),\n    \"& > *\": {\n      margin: theme.spacing(0.5),\n    },\n  },\n  bottomButtonGroup: {\n    justifyContent: \"flex-end\",\n    padding: 0,\n  },\n}));\n\nexport const MessageEditorView = ({\n  methodOptions,\n  selectedMethod,\n  onMethodSelected,\n  cases,\n  checkIsTargetMessage,\n  hashMessage,\n  isWalletEnabled,\n  connectedAccount,\n  connectWallet,\n  onSign,\n  preferJsonStringMessage,\n}: MessageViewProps) => {\n  const classes = useStyle();\n\n  const [messageValue, setMessageValue] = useState<string>(\"\");\n  const [messageHashValue, setMessageHashValue] = useState<string>(\"\");\n  const [signatureValue, setSignatureValue] = useState<string>(\"\");\n  const [disabledSignBtn, setDisabledSignBtn] = useState<boolean>(true);\n  const [snackBarState, setSnackBarState] =\n    useState<{ isOpening: boolean; isPositive?: boolean; message?: string }>();\n\n  const onMessageChanged = useCallback(\n    async (message: string) => {\n      try {\n        if (message && checkIsTargetMessage(message)) {\n          const messageHash: string = await hashMessage(message);\n\n          message = preferJsonStringMessage\n            ? toEditorJsonString(message)\n            : message;\n\n          if (easyCheckMessageHash(messageHash)) {\n            setMessageHashValue(messageHash);\n            setDisabledSignBtn(false);\n          } else {\n            setDisabledSignBtn(true);\n          }\n        }\n      } catch (e) {\n        setDisabledSignBtn(true);\n        console.error(\"Error in hashing message\", e);\n      }\n\n      setMessageValue(message);\n      setSignatureValue(\"\");\n    },\n    [preferJsonStringMessage, checkIsTargetMessage, hashMessage]\n  );\n\n  const onSignButtonClick = useCallback(async () => {\n    try {\n      const signature: string = await onSign(messageValue);\n      setSignatureValue(signature);\n\n      if (signature && easyCheckSignature(signature)) {\n        setSnackBarState({\n          isOpening: true,\n          isPositive: true,\n          message: \"Signed successfully\",\n        });\n      } else {\n        setSnackBarState({\n          isOpening: true,\n          isPositive: false,\n          message: \"Invalid signature\",\n        });\n      }\n    } catch (e) {\n      console.error(\"Error in signing message\", e);\n\n      setSnackBarState({\n        isOpening: true,\n        isPositive: false,\n        message:\n          typeof e === \"object\"\n            ? `Error in signing: \\n${JSON.stringify(e, undefined, 2)}`\n            : \"Something wrong\",\n      });\n    }\n  }, [messageValue, onSign]);\n\n  const onTagClick = (index: number) => {\n    const message = cases[index].value;\n    setMessageValue(message);\n    onMessageChanged(message).catch(console.error);\n  };\n\n  useEffect(() => {\n    if (cases[0].value) {\n      onMessageChanged(cases[0].value);\n    }\n  }, [cases, onMessageChanged]);\n\n  return (\n    <>\n      <Column style={{ padding: 0 }}>\n        <Typography component={\"h1\"} variant={\"h4\"} align={\"center\"}>\n          Message\n        </Typography>\n\n        <Row className={classes.options}>\n          <Select\n            variant={\"outlined\"}\n            value={selectedMethod}\n            onChange={(event) => onMethodSelected(event.target.value as string)}\n          >\n            {methodOptions.map((method) => (\n              <MenuItem key={method} value={method}>\n                {method}\n              </MenuItem>\n            ))}\n          </Select>\n        </Row>\n\n        <Column key={`content_of_${selectedMethod}`}>\n          <Row className={classes.caseGroup}>\n            {cases.map((tag, index) => (\n              <Chip\n                size={\"small\"}\n                key={tag.name}\n                label={tag.name}\n                onClick={() => onTagClick(index)}\n              />\n            ))}\n          </Row>\n          <Editor\n            name={\"message_editor\"}\n            placeholder={\"Input Message Here\"}\n            mode={\"json\"}\n            theme={\"tomorrow_night_eighties\"}\n            value={messageValue}\n            onChange={onMessageChanged}\n          />\n          <SizedBox height={10} />\n          <TextField\n            id={\"message_hash\"}\n            variant=\"outlined\"\n            value={messageHashValue}\n            label={\"Message Hash\"}\n          />\n          <SizedBox height={10} />\n          <TextField\n            id={\"signature\"}\n            variant=\"outlined\"\n            value={signatureValue}\n            label={\"Signature\"}\n          />\n          <SizedBox height={10} />\n          <EcRecoverViewer\n            messageHash={messageHashValue}\n            signature={signatureValue}\n          />\n          <SizedBox height={10} />\n          <Row className={classes.bottomButtonGroup}>\n            <Button\n              variant={\"contained\"}\n              color={\"primary\"}\n              disabled={isWalletEnabled}\n              onClick={connectWallet}\n            >\n              {isWalletEnabled && connectedAccount\n                ? `${connectedAccount.slice(0, 4)}...${connectedAccount.slice(\n                    -4\n                  )}`\n                : \"Connect\"}\n            </Button>\n            <SizedBox width={16} />\n            <Button\n              variant={\"contained\"}\n              color={\"secondary\"}\n              disabled={disabledSignBtn || !isWalletEnabled}\n              onClick={onSignButtonClick}\n            >\n              SIGN\n            </Button>\n          </Row>\n        </Column>\n      </Column>\n      <Snackbar\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        open={snackBarState?.isOpening || false}\n        autoHideDuration={3000}\n        onClose={() =>\n          setSnackBarState((prevState) => ({ ...prevState, isOpening: false }))\n        }\n      >\n        <MuiAlert severity={snackBarState?.isPositive ? \"success\" : \"error\"}>\n          {snackBarState?.message}\n        </MuiAlert>\n      </Snackbar>\n    </>\n  );\n};\n","import {\n  easyCheckLegacyEIP712Struct,\n  easyCheckMessageHash,\n  easyCheckStandardEIP712Struct,\n} from \"./helper\";\nimport { Web3ReactContextInterface } from \"@web3-react/core/dist/types\";\nimport * as ethUtil from \"ethereumjs-util\";\nimport * as signUtil from \"eth-sig-util\";\n\nexport interface MessageSignMethod {\n  name: string;\n  cases: Array<{ name: string; value: string }>;\n  preferJsonStringMessage?: boolean;\n  checkIsTargetMessage: (message: string) => boolean;\n  hashMessage: (message: string) => Promise<string>;\n  signMessage: (\n    web3: Web3ReactContextInterface,\n    message: string\n  ) => Promise<string>;\n}\n\nconst DEMO_TYPED_DATA_01 =\n  '{\"types\":{\"EIP712Domain\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"version\",\"type\":\"string\"},{\"name\":\"chainId\",\"type\":\"uint256\"},{\"name\":\"verifyingContract\",\"type\":\"address\"}],\"Person\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"wallet\",\"type\":\"address\"}],\"Mail\":[{\"name\":\"from\",\"type\":\"Person\"},{\"name\":\"to\",\"type\":\"Person\"},{\"name\":\"contents\",\"type\":\"string\"}]},\"primaryType\":\"Mail\",\"domain\":{\"name\":\"Ether Mail\",\"version\":\"1\",\"chainId\":1,\"verifyingContract\":\"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\"},\"message\":{\"from\":{\"name\":\"Cow\",\"wallet\":\"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\"},\"to\":{\"name\":\"Bob\",\"wallet\":\"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\"},\"contents\":\"Hello, Bob!\"}}';\nconst DEMO_TYPED_DATA_02 =\n  '{\"types\":{\"EIP712Domain\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"version\",\"type\":\"string\"},{\"name\":\"chainId\",\"type\":\"uint256\"},{\"name\":\"verifyingContract\",\"type\":\"address\"}],\"Person\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"wallet\",\"type\":\"address\"}],\"Mail\":[{\"name\":\"from\",\"type\":\"Person\"},{\"name\":\"to\",\"type\":\"Person\"},{\"name\":\"contents\",\"type\":\"string\"},{\"name\":\"payload\",\"type\":\"bytes\"}]},\"primaryType\":\"Mail\",\"domain\":{\"name\":\"Ether Mail\",\"version\":\"1\",\"chainId\":1,\"verifyingContract\":\"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\"},\"message\":{\"from\":{\"name\":\"Cow\",\"wallet\":\"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\"},\"to\":{\"name\":\"Bob\",\"wallet\":\"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\"},\"contents\":\"Hello, Bob!\",\"payload\":\"0x25192142931f380985072cdd991e37f65cf8253ba7a0e675b54163a1d133b8ca\"}}';\nconst DEMO_TYPED_DATA_03 =\n  '{\"types\":{\"EIP712Domain\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"version\",\"type\":\"string\"},{\"name\":\"chainId\",\"type\":\"uint256\"},{\"name\":\"verifyingContract\",\"type\":\"address\"}],\"Person\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"mother\",\"type\":\"Person\"},{\"name\":\"father\",\"type\":\"Person\"}]},\"domain\":{\"name\":\"Family Tree\",\"version\":\"1\",\"chainId\":1,\"verifyingContract\":\"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\"},\"primaryType\":\"Person\",\"message\":{\"name\":\"Jon\",\"mother\":{\"name\":\"Lyanna\",\"father\":{\"name\":\"Rickard\"}},\"father\":{\"name\":\"Rhaegar\",\"father\":{\"name\":\"Aeris II\"}}}}';\n\nexport const Methods: { [key: string]: MessageSignMethod } = {\n  eth_sign: {\n    name: \"eth_sign\",\n    cases: [\n      {\n        name: \"Demo 1\",\n        value:\n          \"0x0000000000000000000000000000000000000000000000000000000000000000\",\n      },\n      {\n        name: \"Demo 2\",\n        value:\n          \"0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\",\n      },\n    ],\n    checkIsTargetMessage: easyCheckMessageHash,\n    hashMessage: async (message: string): Promise<string> =>\n      Promise.resolve(message),\n    signMessage: (\n      { account, library }: Web3ReactContextInterface,\n      message: string\n    ): Promise<string> =>\n      library\n        .getSigner(account)\n        .provider.provider.send(\"eth_sign\", [account, message])\n        .then((response: any) => response.result),\n  },\n  personal_sign: {\n    name: \"personal_sign\",\n    cases: [\n      { name: \"Hello OneKey\", value: \"Hello OneKey\" },\n      { name: \"To Da Moon\", value: \"To Da Moon\" },\n    ],\n    checkIsTargetMessage: (message: string | undefined): boolean =>\n      typeof message === \"string\" && message.length > 0,\n    hashMessage: async (message: string): Promise<string> =>\n      ethUtil.addHexPrefix(\n        ethUtil.hashPersonalMessage(ethUtil.toBuffer(message)).toString(\"hex\")\n      ),\n    signMessage: (\n      { account, library }: Web3ReactContextInterface,\n      message: string\n    ): Promise<string> => library.getSigner(account).signMessage(message),\n  },\n  typed_data_sign: {\n    name: \"typed_data_sign\",\n    cases: [\n      {\n        name: \"Single Value\",\n        value: '[{\"type\":\"string\",\"name\":\"message\",\"value\":\"Hi, Alice!\"}]',\n      },\n      {\n        name: \"Multiple values\",\n        value:\n          '[{\"type\":\"string\",\"name\":\"message\",\"value\":\"Hi, Alice!\"},{\"type\":\"uint8\",\"name\":\"value\",\"value\":10}]',\n      },\n      {\n        name: \"With bytes\",\n        value: '[{\"type\":\"bytes\",\"name\":\"message\",\"value\":\"0xdeadbeaf\"}]',\n      },\n    ],\n    preferJsonStringMessage: true,\n    checkIsTargetMessage: easyCheckLegacyEIP712Struct,\n    hashMessage: async (message: string): Promise<string> =>\n      ethUtil.addHexPrefix(signUtil.typedSignatureHash(JSON.parse(message))),\n    signMessage: (\n      { account, library }: Web3ReactContextInterface,\n      message: string\n    ): Promise<string> =>\n      library.provider\n        .send(\n          \"eth_signTypedData\",\n          library.provider.isMetaMask\n            ? [JSON.parse(message), account]\n            : [account, message]\n        )\n        .then((response: any) => response.result),\n  },\n  typed_data_sign_v1: {\n    name: \"typed_data_sign_v1\",\n    cases: [\n      {\n        name: \"Single Value\",\n        value: '[{\"type\":\"string\",\"name\":\"message\",\"value\":\"Hi, Alice!\"}]',\n      },\n      {\n        name: \"Multiple values\",\n        value:\n          '[{\"type\":\"string\",\"name\":\"message\",\"value\":\"Hi, Alice!\"},{\"type\":\"uint8\",\"name\":\"value\",\"value\":10}]',\n      },\n      {\n        name: \"With bytes\",\n        value: '[{\"type\":\"bytes\",\"name\":\"message\",\"value\":\"0xdeadbeaf\"}]',\n      },\n    ],\n    preferJsonStringMessage: true,\n    checkIsTargetMessage: easyCheckLegacyEIP712Struct,\n    hashMessage: async (message: string): Promise<string> =>\n      ethUtil.addHexPrefix(signUtil.typedSignatureHash(JSON.parse(message))),\n    signMessage: (\n      { account, library }: Web3ReactContextInterface,\n      message: string\n    ): Promise<string> =>\n      library.provider\n        .send(\"eth_signTypedData_v1\", [account, message])\n        .then((response: any) => response.result),\n  },\n  typed_data_sign_v3: {\n    name: \"typed_data_sign_v3\",\n    cases: [\n      {\n        name: \"Demo\",\n        value: DEMO_TYPED_DATA_01,\n      },\n      {\n        name: \"With bytes\",\n        value: DEMO_TYPED_DATA_02,\n      },\n      {\n        name: \"With recursive types\",\n        value: DEMO_TYPED_DATA_03,\n      },\n    ],\n    preferJsonStringMessage: true,\n    checkIsTargetMessage: easyCheckStandardEIP712Struct,\n    hashMessage: async (message: string): Promise<string> =>\n      ethUtil.addHexPrefix(\n        signUtil.TypedDataUtils.sign(JSON.parse(message), false).toString(\"hex\")\n      ),\n    signMessage: (\n      { account, library }: Web3ReactContextInterface,\n      message: string\n    ): Promise<string> =>\n      library.provider\n        .send(\"eth_signTypedData_v3\", [account, message])\n        .then((response: any) => response.result),\n  },\n  typed_data_sign_v4: {\n    name: \"typed_data_sign_v4\",\n    cases: [\n      {\n        name: \"Demo\",\n        value: DEMO_TYPED_DATA_01,\n      },\n      {\n        name: \"With bytes\",\n        value: DEMO_TYPED_DATA_02,\n      },\n      {\n        name: \"With recursive types\",\n        value: DEMO_TYPED_DATA_03,\n      },\n      {\n        name: \"With array\",\n        value:\n          '{\"types\":{\"EIP712Domain\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"version\",\"type\":\"string\"},{\"name\":\"chainId\",\"type\":\"uint256\"},{\"name\":\"verifyingContract\",\"type\":\"address\"}],\"Person\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"wallets\",\"type\":\"address[]\"}],\"Mail\":[{\"name\":\"from\",\"type\":\"Person\"},{\"name\":\"to\",\"type\":\"Person[]\"},{\"name\":\"contents\",\"type\":\"string\"}],\"Group\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"members\",\"type\":\"Person[]\"}]},\"domain\":{\"name\":\"Ether Mail\",\"version\":\"1\",\"chainId\":1,\"verifyingContract\":\"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\"},\"primaryType\":\"Mail\",\"message\":{\"from\":{\"name\":\"Cow\",\"wallets\":[\"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\",\"0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF\"]},\"to\":[{\"name\":\"Bob\",\"wallets\":[\"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\",\"0xB0BdaBea57B0BDABeA57b0bdABEA57b0BDabEa57\",\"0xB0B0b0b0b0b0B000000000000000000000000000\"]}],\"contents\":\"Hello, Bob!\"}}',\n      },\n      {\n        name: \"With 2D array\",\n        value:\n          '{\"types\":{\"EIP712Domain\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"version\",\"type\":\"string\"},{\"name\":\"chainId\",\"type\":\"uint256\"},{\"name\":\"verifyingContract\",\"type\":\"address\"}],\"Person\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"wallets\",\"type\":\"address[]\"},{\"name\":\"logo_matrix\",\"type\":\"int[][]\"}],\"Mail\":[{\"name\":\"from\",\"type\":\"Person\"},{\"name\":\"to\",\"type\":\"Person[]\"},{\"name\":\"contents\",\"type\":\"string\"}],\"Group\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"members\",\"type\":\"Person[]\"}]},\"domain\":{\"name\":\"Ether Mail\",\"version\":\"1\",\"chainId\":1,\"verifyingContract\":\"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC\"},\"primaryType\":\"Mail\",\"message\":{\"from\":{\"name\":\"Cow\",\"wallets\":[\"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826\",\"0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF\"],\"logo_matrix\":[[0,255],[-255,-1]]},\"to\":[{\"name\":\"Bob\",\"wallets\":[\"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB\",\"0xB0BdaBea57B0BDABeA57b0bdABEA57b0BDabEa57\",\"0xB0B0b0b0b0b0B000000000000000000000000000\"],\"logo_matrix\":[[0,0],[0,0]]}],\"contents\":\"Hello, Bob!\"}}',\n      },\n    ],\n    preferJsonStringMessage: true,\n    checkIsTargetMessage: easyCheckStandardEIP712Struct,\n    hashMessage: async (message: string): Promise<string> =>\n      ethUtil.addHexPrefix(\n        signUtil.TypedDataUtils.sign(JSON.parse(message), true).toString(\"hex\")\n      ),\n    signMessage: (\n      { account, library }: Web3ReactContextInterface,\n      message: string\n    ): Promise<string> =>\n      library.provider\n        .send(\"eth_signTypedData_v4\", [account, message])\n        .then((response: any) => response.result),\n  },\n};\n","import { MessageEditorView } from \"./view\";\nimport { useCallback, useState } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { MessageSignMethod, Methods } from \"./methods\";\nimport { injected } from \"../../connector\";\n\nconst MessageEditor = () => {\n  const web3 = useWeb3React();\n  const { active, activate, account } = web3;\n  const [selectedMethod, setSelectedMethod] = useState<string>(\"eth_sign\");\n\n  const method: MessageSignMethod = Methods[selectedMethod || \"eth_sign\"];\n  const onSign = useCallback(\n    (message: string) => method.signMessage(web3, message),\n    [web3, method]\n  );\n\n  return (\n    <MessageEditorView\n      isWalletEnabled={active}\n      connectedAccount={account}\n      connectWallet={() => activate(injected)}\n      methodOptions={Object.keys(Methods)}\n      selectedMethod={selectedMethod}\n      onMethodSelected={setSelectedMethod}\n      cases={method.cases}\n      preferJsonStringMessage={method.preferJsonStringMessage}\n      hashMessage={method.hashMessage}\n      checkIsTargetMessage={method.checkIsTargetMessage}\n      onSign={onSign}\n    />\n  );\n};\n\nexport default MessageEditor;\n","import {\n  AppBar,\n  CssBaseline,\n  makeStyles,\n  Paper,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport MessageEditor from \"./pages/Message\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    color: \"default\",\n    position: \"relative\",\n  },\n  main: {\n    width: \"auto\",\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    [theme.breakpoints.up(800 + theme.spacing(2) * 2)]: {\n      width: 800,\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    padding: theme.spacing(2),\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\n      marginTop: theme.spacing(6),\n      marginBottom: theme.spacing(6),\n      padding: theme.spacing(5),\n    },\n  },\n}));\n\nconst App = () => {\n  const classes = useStyles();\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          <Typography variant={\"h6\"} color={\"inherit\"} noWrap>\n            Ethereum Utils\n          </Typography>\n        </Toolbar>\n      </AppBar>\n\n      <main className={classes.main}>\n        <Paper className={classes.paper}>\n          <MessageEditor />\n        </Paper>\n      </main>\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Web3Root from \"./connector\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Web3Root>\n      <App />\n    </Web3Root>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import * as signUtil from \"eth-sig-util\";\n\nexport const easyCheckMessageHash = (\n  messageHash: string | undefined\n): boolean => {\n  if (\n    typeof messageHash === \"string\" &&\n    messageHash.startsWith(\"0x\") &&\n    messageHash.length === 66\n  ) {\n    try {\n      return Buffer.from(messageHash.slice(2), \"hex\").length === 32;\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  return false;\n};\n\nexport const easyCheckSignature = (signature: string | undefined): boolean => {\n  if (\n    typeof signature == \"string\" &&\n    signature.startsWith(\"0x\") &&\n    signature.length === 132\n  ) {\n    try {\n      return Buffer.from(signature.slice(2), \"hex\").length === 65;\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  return false;\n};\n\nexport const easyCheckLegacyEIP712Struct = (value: string | undefined) => {\n  if (\n    typeof value === \"string\" &&\n    value.startsWith(\"[\") &&\n    value.endsWith(\"]\")\n  ) {\n    try {\n      const struct = JSON.parse(value);\n      if (Array.isArray(struct)) {\n        return struct.every(\n          (i: any) =>\n            typeof i === \"object\" &&\n            typeof i.type === \"string\" &&\n            typeof i.name == \"string\" &&\n            i.value !== undefined\n        );\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  return false;\n};\n\nexport const easyCheckStandardEIP712Struct = (value: string | undefined) => {\n  if (\n    typeof value === \"string\" &&\n    value.startsWith(\"{\") &&\n    value.endsWith(\"}\")\n  ) {\n    try {\n      const struct = JSON.parse(value);\n      if (typeof struct === \"object\") {\n        return signUtil.TYPED_MESSAGE_SCHEMA.required.every((i) => !!struct[i]);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  return false;\n};\n\nexport const toEditorJsonString = (value: string): string => {\n  if (value) {\n    try {\n      const data = JSON.parse(value);\n      return JSON.stringify(data, undefined, 2);\n    } catch (e) {}\n  }\n\n  return value;\n};\n"],"sourceRoot":""}